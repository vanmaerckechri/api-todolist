# üìã API REST - Todolist (Projet p√©dagogique)

Cette API REST permet de g√©rer des listes de t√¢ches (todolists) pour des utilisateurs authentifi√©s via un jeton Bearer. Elle est con√ßue dans un but p√©dagogique pour manipuler des requ√™tes HTTP avec cURL c√¥t√© client.

---

## üîê Authentification

Toutes les requ√™tes vers l'API doivent inclure un jeton priv√© via l'en-t√™te :

```
Authorization: Bearer VOTRE_CLE_PRIVEE
```

> Chaque utilisateur dispose d'une cl√© priv√©e g√©n√©r√©e lors de l'inscription et disponible sur la page "profil".

---

## üìÅ Structure des donn√©es

Une todolist est repr√©sent√©e au format `JSON` associ√© √† un utilisateur. Chaque liste contient un tableau de t√¢ches :

```json
[
  {
    "texte": "Acheter du pain",
    "fait": false
  },
  {
    "texte": "Appeler Mamie",
    "fait": true
  }
]
```

Les identifiants des t√¢ches correspondent √† leur position dans le tableau (index).

---

## üìô Endpoints disponibles

### ‚ûï Cr√©er une nouvelle todolist

- **POST** `/api/todolists/`

  - Donn√©es √† envoyer :

    ```php
    ['listeNom' => 'ma-liste-01']
    ```

  - Le nom doit √™tre alphanum√©rique ou contenir des tirets (aucun espace).


### üîç R√©cup√©rer les todolists

- **GET** `/api/todolists/`  
  R√©cup√®re toutes les todolists de l'utilisateur.

- **GET** `/api/todolists/{nomDeLaListe}`  
  R√©cup√®re une todolist pr√©cise.

  - Exemple : `/api/todolists/liste-de-courses`


### üìù Modifier une todolist compl√®te

- **PUT** `/api/todolists/{nomDeLaListe}`

  - Donn√©es √† envoyer : tableau JSON rempla√ßant l'int√©gralit√© de la liste

    ```json
    [
      {
        "texte": "Changer le bac du chat",
        "fait": true
      },
      {
        "texte": "Se reposer",
        "fait": false
      }
    ]
    ```


### ‚ùå Supprimer une todolist

- **DELETE** `/api/todolists/{nomDeLaListe}`

  - Exemple : `/api/todolists/liste-de-courses`


### ‚ûï Ajouter une t√¢che √† une todolist

- **POST** `/api/todolists/{nomDeLaListe}/todos/`

  - Donn√©es √† envoyer (formulaire ou JSON) :

    ```php
    [
      'texte' => 'Aller chez le coiffeur',
      'fait' => false
    ]
    ```


### ‚úçÔ∏è Modifier une t√¢che d'une todolist

- **PATCH** `/api/todolists/{nomDeLaListe}/todos/{tacheId}`

  - Donn√©es √† envoyer :

    ```json
    {
      "fait": true
    }
    ```

  - Exemple : `/api/todolists/liste-de-courses/todos/0`


### ‚ùå Supprimer une t√¢che d'une todolist

- **DELETE** `/api/todolists/{nomDeLaListe}/todos/{tacheId}`

  - Exemple : `/api/todolists/ma-liste/todos/2`

---

## ‚ÑπÔ∏è Codes de r√©ponse HTTP

- `200 OK` : Succ√®s de l'op√©ration.
- `201 Created` : Ressource cr√©√©e avec succ√®s.
- `400 Bad Request` : Donn√©es invalides ou manquantes.
- `401 Unauthorized` : Jeton Bearer manquant ou invalide.
- `404 Not Found` : Ressource introuvable.
- `409 Conflict` : Conflit (ex. : nom de liste d√©j√† utilis√©).
